<!DOCTYPE html>
<html>
	<head>
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			var sizeMultiply = 2;
		</script>
		<script src="./simple.js">
			var axiom = "x";

			var rules = {
				"F": "FF",
				"+": "+",
				"-": "-",
				"[": "[",
				"]": "]",
				"x": "F+[[x]-x]-F[-Fx]+x"
			};

			var actions = {};

			actions['F'] = function() {
				turtle.moveWithPen(length);
			}

			actions['+'] = function() {
				turtle.turnLeft(angle);
			}

			actions['-'] = function() {
				turtle.turnRight(angle);
			}

			actions['['] = function() {
				turtle.pushPosition();
			}

			actions[']'] = function() {
				turtle.popPosition();
			}

			actions['x'] = function() {
			}

			var system = axiom;

			var iterations = 7;
			var angle = 20;
			var length = 3;
			
			for(let i = 0; i < iterations; i++) {
				var currentLength = system.length;
				var newSystem = "";

				for(let u = 0; u < currentLength; u++) {
					let action = rules[system[u]];
					newSystem = newSystem + action;
				}
				system = newSystem;
			}

			console.log(system);

			for(let i = 0; i < system.length; i++) {
				let action = actions[system[i]];
				action();
			}
		</script>
	</body>
</html>