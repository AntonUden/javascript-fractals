<!DOCTYPE html>
<html>
	<head>
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
		</script>
		<script src="./simple.js">
			var total_it_count = 0;

			var xStart = -1.55;
			var xEnd   = 1.55;
			var yStart = -0.9;
			var yEnd   = 0.9;

			var c_re   = -0.8;
			var c_im   = 0.156;

			var max_it = 1000;

			for(let x = 0; x < totalWidth; x++) {
				for(let y = 0; y < totalHeight; y++) {
					let re = ((x / totalWidth) * (xEnd - xStart)) + xStart;
					let im = ((y / totalHeight) * (yEnd - yStart)) + yStart;

					let it = 0;
					while(((re * re + im * im) < 4) && (it < max_it)) {
						let oldRe = re;
						let oldIm = im;

						re = oldRe * oldRe - oldIm * oldIm + c_re;
						im = 2 * oldRe * oldIm + c_im;
						it++;
						total_it_count++;
					}

					if(it == max_it) {
						color = 'black';
					} else {
						color = mixColor(255 - it%155, 255 - it%195, 255 - it%255);
					}

					rectangle(x, y, 1, 1, color);
				}
			}

			console.log('Total iterations: ' + total_it_count);
		</script>
	</body>
</html>